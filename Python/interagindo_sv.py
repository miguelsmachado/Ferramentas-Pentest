import sys, socket

if len(sys.argv) != 3:
    print("Modo de uso:")
else:
    nome, ip, porta = sys.argv

    meu_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    meu_socket.connect((ip, int(porta)))

    banner = meu_socket.recv(1024)
    print(banner.decode())

    sair = False

    while not sair:
        msg = input("Digite a mensagem a ser enviada: ")
        meu_socket.send((msg+"\r\n").encode())
        print(meu_socket.recv(1024).decode())

        resp = input("Deseja sair? [y/n]")
        if resp == "y":
            sair = True
